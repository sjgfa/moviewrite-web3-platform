# 🎬 MovieWrite - Web3电影文章共创平台

基于区块链技术的电影文章协作创作平台，让创作者们一起创作精彩的电影文章，通过智能合约确保贡献的透明性和奖励的公平性。

## ✨ 特色功能

- 🤝 **协作创作**: 多人接力完成文章，每个人都可以贡献自己的见解
- 🏆 **公平奖励**: 基于区块链的透明奖励机制，优质贡献获得代币奖励
- 🎨 **NFT证书**: 完成的文章可以铸造为NFT，永久记录创作成果
- 🔒 **去中心化**: 所有数据和交易记录在区块链上，确保透明和不可篡改
- 💰 **代币经济**: MWT代币激励优质内容创作

## 🛠 技术栈

### 前端
- **Next.js 14** - React框架
- **Tailwind CSS** - 样式框架
- **Framer Motion** - 动画库
- **RainbowKit** - 钱包连接
- **Wagmi** - Web3 React Hooks

### 区块链
- **Solidity** - 智能合约语言
- **Hardhat** - 开发环境
- **OpenZeppelin** - 安全的合约库
- **Ethers.js** - 以太坊交互库

## 🚀 快速开始

### 环境要求
- Node.js 18+
- npm 或 yarn
- MetaMask 钱包

### 1. 克隆项目
```bash
git clone <repository-url>
cd movie-article-web3
```

### 2. 安装依赖
```bash
npm install
```

### 3. 一键启动开发环境
```bash
npm run start:dev
```

这个命令会自动：
- 启动 Hardhat 本地节点
- 部署智能合约到本地网络
- 启动前端开发服务器
- 更新合约地址配置

### 4. 配置 MetaMask

1. **添加本地网络**：
   - 网络名称: `Localhost 8545`
   - RPC URL: `http://localhost:8545`
   - 链ID: `31337`
   - 货币符号: `ETH`

2. **导入测试账户**：
   - 从 Hardhat 节点输出中复制私钥
   - 在 MetaMask 中导入账户
   - 测试账户地址: `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266`

### 5. 开始使用

访问 http://localhost:3000 (或 http://localhost:3001) 开始使用平台！

## 📋 当前部署状态

### 已部署的合约地址
- **RewardToken (MWT)**: `0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9`
- **MovieArticle**: `0x5FC8d32690cc91D4c39d9d3abcBD16989F875707`
- **网络**: Localhost (Chain ID: 31337)

### 代币信息
- **名称**: MovieWrite Token
- **符号**: MWT
- **初始供应量**: 1,000,000 MWT
- **奖励池**: 100,000 MWT (已转移给 MovieArticle 合约)
- **测试代币**: 10,000 MWT (已铸造给部署者)

## 📖 使用指南

### 创建文章
1. 连接钱包到本地网络
2. 点击"创建新文章"
3. 填写文章信息：
   - 文章标题
   - 电影名称
   - 电影类型
   - 最小贡献字数 (默认100字)
   - 最大贡献者数量 (默认10人)
4. 提交交易并等待确认

### 参与贡献
1. 浏览文章列表页面
2. 选择感兴趣的进行中文章
3. 在文章详情页添加您的贡献内容
4. 确保内容达到最小字数要求
5. 提交贡献并等待交易确认

### 社区互动
- 为优质贡献点赞
- 查看其他用户的贡献历史
- 在个人页面查看自己的创作记录

### 获得奖励
- 其他用户可以为您的贡献点赞
- 文章创建者可以批准优质贡献并给予代币奖励
- 完成的文章可以铸造为NFT证书

## 🏗 项目结构

```
movie-article-web3/
├── contracts/              # 智能合约
│   ├── MovieArticle.sol   # 主要合约 (已部署)
│   └── RewardToken.sol    # 奖励代币合约 (已部署)
├── pages/                  # Next.js 页面
│   ├── index.js           # 主页
│   ├── articles.js        # 文章列表
│   ├── article/[id].js    # 文章详情
│   ├── profile.js         # 用户个人页面
│   └── api/               # API 路由
├── components/             # React 组件
│   ├── Layout.js          # 布局组件
│   ├── ArticleCard.js     # 文章卡片
│   └── CreateArticleModal.js # 创建文章模态框
├── lib/                    # 工具库
│   └── web3.js            # Web3 配置
├── scripts/                # 部署脚本
│   ├── deploy-and-setup.js # 部署和设置 (已执行)
│   └── start-dev.js       # 开发环境启动
├── test/                   # 测试文件
└── contract-addresses.json # 合约地址配置 (自动生成)
```

## 🔧 开发命令

```bash
# 编译合约
npm run compile

# 运行测试
npm run test

# 启动本地区块链 (单独启动)
npm run node

# 部署合约 (单独部署)
npm run deploy

# 启动前端 (单独启动)
npm run dev

# 一键启动完整开发环境 (推荐)
npm run start:dev
```

## 📝 智能合约功能

### MovieArticle.sol
主要功能：
- ✅ 创建文章
- ✅ 添加贡献
- ✅ 点赞系统
- ✅ 奖励分配
- ✅ 文章完成
- ✅ NFT铸造

### RewardToken.sol
ERC20代币合约：
- ✅ 代币名称: MovieWrite Token (MWT)
- ✅ 用于奖励优质贡献者
- ✅ 支持铸造和销毁
- ✅ 已部署并配置完成

## 🎯 核心功能流程

### 文章创作流程
1. **创建文章** - 用户创建电影文章主题 ✅
2. **协作贡献** - 其他用户添加内容贡献 ✅
3. **社区互动** - 点赞和评价贡献质量 ✅
4. **奖励分配** - 创建者分配代币奖励 ✅
5. **文章完成** - 达到目标后完成文章 ✅
6. **NFT铸造** - 将完成的文章铸造为NFT ✅

### 奖励机制
- 💎 优质贡献获得MWT代币奖励
- 🏅 完成文章的所有贡献者获得NFT证书
- 📈 代币可用于平台治理和特殊功能

## 🔐 安全特性

- ✅ 防重复贡献
- ✅ 内容长度验证
- ✅ 贡献者数量限制
- ✅ 权限控制
- ✅ 重入攻击防护

## 🌐 页面功能

### 主页 (/)
- 平台介绍和统计数据
- 最新文章展示
- 快速创建文章入口

### 文章列表 (/articles)
- 所有文章的浏览和搜索
- 按类型、状态筛选
- 分页显示

### 文章详情 (/article/[id])
- 文章信息和贡献列表
- 添加新贡献
- 点赞和互动功能

### 个人中心 (/profile)
- 用户创建的文章
- 用户的贡献记录
- 代币余额和统计

## 🚨 注意事项

1. **端口冲突**: 如果3000端口被占用，Next.js会自动使用3001端口
2. **钱包连接**: 确保MetaMask连接到正确的本地网络
3. **测试代币**: 使用Hardhat提供的测试账户进行测试
4. **合约地址**: 每次重新部署后合约地址会改变

## 🌟 未来规划

- [ ] 多语言支持
- [ ] 移动端应用
- [ ] IPFS集成存储
- [ ] DAO治理机制
- [ ] 跨链支持
- [ ] 内容推荐算法
- [ ] 高级编辑器
- [ ] 文章评论系统

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 📞 联系我们

- 项目地址: [GitHub Repository]
- 问题反馈: [Issues]
- 讨论交流: [Discussions]

---

🎬 **MovieWrite** - 让电影文章创作更有趣、更公平、更有价值！

### 🎉 项目状态: 已完成并可用！

✅ 智能合约已部署  
✅ 前端应用已启动  
✅ 所有功能已实现  
✅ 可以开始创作！ 